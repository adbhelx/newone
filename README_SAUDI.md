# 🇸🇦 بوت "نجم الرؤية" التعليمي المخصص للطلاب السعوديين

هذا البوت هو نسخة مطورة ومخصصة لتلبية احتياجات الطلاب في المملكة العربية السعودية، مع التركيز على التفاعل، التحفيز، وتقديم قيمة أكاديمية حقيقية.

## ✨ الميزات الجديدة والحصرية

| الميزة | الوصف | الفائدة للطلاب السعوديين |
| :--- | :--- | :--- |
| **🧑‍🏫 المرشد الأكاديمي الذكي** | وضع جديد في الدردشة بالذكاء الاصطناعي، متخصص في تقديم استشارات حول المسارات التعليمية، اختبارات **القدرات والتحصيلي**، ونصائح جامعية تتوافق مع **رؤية 2030**. | توجيه أكاديمي فوري ومخصص لمستقبلهم التعليمي والمهني. |
| **📚 التعليم المخصص** | قائمة جديدة تركز على مواد **STEM**، ومهارات **التفكير النقدي**، وتهيئة الطلاب لاختبارات القياس (تم استبدال محتوى HSK). | مواءمة المحتوى مع المناهج والاحتياجات التعليمية الوطنية. |
| **🇸🇦 إنجازات المتصدرين** | إضافة إنجازات وشارات جديدة مثل "نجم الرؤية 2030" و "متقن القياس" لزيادة التحفيز والتنافس الإيجابي. | تعزيز الانتماء والتحفيز من خلال الألعاب (Gamification). |
| **🚀 التشغيل المستمر 24/7** | تم إعداد البنية التحتية لضمان عمل البوت بشكل متواصل دون انقطاع، حتى على الاستضافات المجانية (عبر نقطة فحص الصحة `health check`). | ضمان توفر البوت في أي وقت يحتاجه الطالب للدراسة أو الاستشارة. |
| **⚙️ تحسين الأزرار** | تبسيط القائمة الرئيسية لسهولة الاستخدام والوصول السريع للميزات الأكثر أهمية. | تجربة مستخدم سلسة وفعالة. |

## 🛠️ متطلبات التشغيل

1.  **توكن البوت (Bot Token):** من @BotFather على تيليجرام.
2.  **مفتاح API لـ Groq:** للحصول على أداء فائق السرعة للذكاء الاصطناعي (يمكن الحصول عليه مجاناً من موقع Groq).
3.  **حساب GitHub:** لنشر الكود.
4.  **حساب Render.com:** للنشر المجاني.

## 🚀 طريقة النشر على استضافة مجانية (Render.com)

لضمان عمل البوت **"واصل بدون انقطاع"** (ميزة النوم)، سنستخدم منصة **Render.com** لنشر تطبيق الويب الذي يحتوي على البوت ونقطة فحص الصحة.

### الخطوة 1: تهيئة المشروع

تأكد من أن ملفات المشروع جاهزة:
*   `Procfile`: يحتوي على أمر تشغيل `gunicorn` لتشغيل تطبيق الويب (الذي يدير البوت).
*   `app_unified.py`: يحتوي على منطق البوت وتطبيق الويب ونقطة فحص الصحة `/health`.
*   `requirements.txt`: يحتوي على جميع التبعيات.

### الخطوة 2: إنشاء حساب Render وربطه بـ GitHub

1.  قم برفع هذا المشروع كاملاً إلى مستودع جديد على **GitHub** الخاص بك.
2.  اذهب إلى [Render.com](https://render.com/) وقم بالتسجيل/تسجيل الدخول.
3.  انقر على **New Web Service**.
4.  اختر المستودع الذي رفعت إليه الكود.

### الخطوة 3: إعداد الخدمة على Render

| الإعداد | القيمة المقترحة | ملاحظات |
| :--- | :--- | :--- |
| **Name** | `saudi-academic-bot` (أو أي اسم تختاره) | |
| **Region** | `Frankfurt` أو أقرب منطقة جغرافية للمملكة لتقليل زمن الاستجابة. | |
| **Branch** | `main` (أو الفرع الذي رفعت عليه الكود) | |
| **Root Directory** | (اتركه فارغاً) | |
| **Runtime** | `Python 3` | |
| **Build Command** | `pip install -r requirements.txt` | |
| **Start Command** | `gunicorn app_unified:app --bind 0.0.0.0:$PORT --timeout 120` | هذا هو الأمر الموجود في `Procfile`. |
| **Instance Type** | `Free` | |

### الخطوة 4: إضافة متغيرات البيئة (Environment Variables)

انتقل إلى قسم **Environment** وأضف المتغيرات التالية:

| المفتاح (Key) | القيمة (Value) |
| :--- | :--- |
| `TOKEN` | توكن البوت الخاص بك من @BotFather. |
| `GROQ_API_KEY` | مفتاح API الخاص بك من Groq. |

### الخطوة 5: النشر والتشغيل

1.  انقر على **Create Web Service**. سيبدأ Render عملية بناء ونشر المشروع.
2.  بمجرد اكتمال النشر، سيمنحك Render رابطاً (URL) لتطبيق الويب الخاص بك (مثال: `https://saudi-academic-bot.onrender.com`).

### الخطوة 6: إعداد Webhook البوت

يجب إخبار تيليجرام بالرابط الذي نشرت عليه البوت:

1.  افتح متصفحك.
2.  استبدل التوكن والرابط في الأمر التالي، ثم قم بزيارته:
    ```
    https://api.telegram.org/bot<YOUR_BOT_TOKEN>/setWebhook?url=<YOUR_RENDER_URL>
    ```
    (مثال: `https://api.telegram.org/bot8085016643:AAEHAO1.../setWebhook?url=https://saudi-academic-bot.onrender.com/`)
3.  يجب أن تحصل على رسالة تأكيد بنجاح إعداد الـ Webhook.

### الخطوة 7: ضمان العمل المستمر (حل مشكلة "النوم")

للتغلب على وضع السكون في الخطة المجانية لـ Render، سنستخدم خدمة Ping خارجية:

1.  اذهب إلى خدمة Ping مجانية مثل [UptimeRobot](https://uptimerobot.com/) أو [Cron-Job.org](https://cron-job.org/).
2.  قم بإنشاء "Monitor" جديد.
3.  اختر نوع المراقبة **HTTP(s)**.
4.  الصق رابط فحص الصحة الخاص بك: **`<YOUR_RENDER_URL>/health`**
    (مثال: `https://saudi-academic-bot.onrender.com/health`)
5.  اضبط الفاصل الزمني على **كل 5 دقائق**.
6.  احفظ الإعدادات.

**النتيجة:** ستقوم خدمة Ping بزيارة البوت كل 5 دقائق، مما يمنعه من الدخول في وضع السكون ويضمن عمله **"واصل بدون انقطاع"** كما طلبت.

---
**ملاحظة:** تم دمج ملفات البوت وتطبيق الويب في `app_unified.py` لتبسيط عملية النشر على منصات مثل Render التي تفضل تشغيل عملية واحدة فقط.

