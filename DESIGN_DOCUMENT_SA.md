# وثيقة تصميم وتخصيص البوت التعليمي للطلاب السعوديين

**الهدف:** تحويل البوت الحالي (المخصص لتعلم اللغة الصينية HSK) إلى منصة تعليمية تفاعلية وجذابة ومخصصة للطلاب السعوديين، مع التركيز على الميزات المتقدمة لضمان الاستخدام اليومي والمنفعة الحقيقية.

## 1. التخصيص الثقافي والتعليمي (الجمهور المستهدف: الطلاب السعوديون)

| الميزة | التخصيص المقترح | الهدف |
| :--- | :--- | :--- |
| **اللغة والمحتوى** | تحويل التركيز من HSK إلى **مناهج دراسية سعودية** (مثل مواد STEM، أو مهارات التفكير النقدي، أو مهارات اللغة الإنجليزية المطلوبة في الجامعات). | مواءمة البوت مع الاحتياجات التعليمية الفعلية للطلاب في المملكة. |
| **الذكاء الاصطناعي** | إضافة وضع "المرشد الأكاديمي السعودي" (Saudi Academic Advisor) الذي يفهم نظام التعليم السعودي ويقدم نصائح حول التخصصات الجامعية، اختبارات القدرات والتحصيلي. | تقديم قيمة مضافة تتجاوز المناهج الدراسية وتساعد في التوجيه المهني. |
| **التحفيز والألعاب** | استخدام أسماء وأيقونات مستوحاة من الثقافة السعودية في نظام الإنجازات والمتصدرين (مثل "باني المستقبل"، "نجم الرؤية 2030"). | زيادة الانتماء والجاذبية للطلاب. |
| **التوقيت** | استخدام التوقيت المحلي للمملكة العربية السعودية (GMT+3) لجميع التذكيرات والمواعيد. | ضمان دقة التذكيرات اليومية (ميزة "النوم" لاحقاً). |

## 2. تطوير ميزة الذكاء الاصطناعي (AI)

سيتم توسيع `ai_chat_feature.py` ليشمل وضع جديد:

| وضع الذكاء الاصطناعي | الوصف | النظام التعليمي (System Prompt) |
| :--- | :--- | :--- |
| **المرشد الأكاديمي** | يقدم استشارات حول المسارات التعليمية، اختبارات القدرات والتحصيلي، ونصائح دراسية عامة. | "أنت مستشار أكاديمي خبير في نظام التعليم السعودي (الابتدائي، المتوسط، الثانوي، الجامعي). مهمتك هي تقديم إجابات دقيقة ومفصلة ونصائح تحفيزية للطلاب حول مساراتهم التعليمية، وأفضل طرق الاستعداد لاختبارات القدرات والتحصيلي، وكيفية اختيار التخصصات الجامعية بما يتوافق مع رؤية 2030. استخدم لغة عربية فصحى ومحفزة." |
| **المعلم المخصص** | يقدم شروحات مبسطة للمفاهيم الصعبة في مواد محددة (مثل الرياضيات أو الفيزياء) بناءً على المنهج السعودي. | "أنت معلم خصوصي متخصص في شرح مفاهيم [تُحدد لاحقاً من قبل المستخدم] للمراحل الدراسية في السعودية. اشرح المفاهيم بأسلوب شيق وبسيط مع أمثلة من البيئة السعودية." |

## 3. ميزة "النوم" (العمل المتواصل بدون انقطاع)

المستخدم طلب "حلل للنوم كمان تعمل كل اللمميزات ككمان تشغليه واصل بدون انقطاع". هذا يشير إلى تحديين:

1.  **الاستضافة المجانية 24/7:** الاستضافات المجانية (مثل Heroku القديمة أو بعض خطط Render) غالباً ما تفرض "فترة سكون" (sleep mode) لتوفير الموارد.
    *   **الحل التقني:** استخدام خدمة خارجية خفيفة (مثل **UptimeRobot** أو **Cron-Job**) لإرسال طلب HTTP (Ping) إلى البوت كل 10-15 دقيقة لمنعه من الدخول في وضع السكون.
    *   **التنفيذ:** تعديل `Procfile` و `start.sh` لتشغيل تطبيق ويب بسيط (Flask) بجانب البوت، واستخدام هذا التطبيق كنقطة نهاية (Endpoint) لخدمة Ping.

2.  **العمل المتواصل للبوت:** ضمان أن البوت لا يتوقف بسبب الأخطاء.
    *   **الحل التقني:** استخدام مكتبة `python-telegram-bot` الحديثة التي تدعم إعادة الاتصال التلقائي، وتغليف منطق التشغيل بـ `try/except` واسع في الدالة الرئيسية.

## 4. ميزة "المتصدرين" و "الإنجازات" (Gamification)

سيتم تعزيز نظام `leaderboard_feature.py` و `achievements_system.py`:

| الميزة | التحسين المقترح |
| :--- | :--- |
| **نقاط النشاط** | منح نقاط (XP) على إكمال المهام التعليمية (مثل استخدام المعلم المخصص، حل الكويزات، استخدام ميزة TTS). |
| **لوحة المتصدرين** | عرض أفضل 10 طلاب نشاطاً أسبوعياً وشهرياً. |
| **الإنجازات المخصصة** | إضافة إنجازات مرتبطة بالنجاح الأكاديمي (مثل "متقن التحصيلي"، "خبير القدرات") بدلاً من إنجازات اللغة الصينية. |

## 5. ميزة الأزرار (Buttons)

المستخدم طلب "الازارا كمان يعمل بدقه". هذا يعني تحسين واجهة المستخدم الرسومية (GUI) للبوت:

*   **تنظيم القوائم:** تبسيط القائمة الرئيسية (`main.py`) لتقليل عدد الأزرار وزيادة التركيز.
*   **قوائم فرعية ديناميكية:** استخدام الأزرار المضمنة (Inline Keyboards) بشكل مكثف لإنشاء قوائم فرعية ديناميكية حسب المحتوى المخصص للطلاب السعوديين.
*   **أزرار الإجراءات السريعة:** إضافة أزرار سريعة في وضع الذكاء الاصطناعي (مثل "مثال آخر"، "شرح أعمق"، "كويز سريع").

## 6. خطة النشر (الاستضافة المجانية)

| الخطوة | التفاصيل |
| :--- | :--- |
| **المنصة المختارة** | **Render.com** (أو Fly.io) - توفر بيئة تشغيل مستمرة نسبياً وتدعم `gunicorn` و `Procfile`. |
| **التكوين** | استخدام `Procfile` الحالي لتشغيل تطبيق الويب (لـ Webhook و Ping) وتطبيق البوت معاً. |
| **ضمان 24/7** | إعداد خدمة Ping خارجية (مثل UptimeRobot) لضرب نقطة نهاية الويب كل 10 دقائق. |
| **متغيرات البيئة** | التأكد من إعداد `TOKEN` و `GROQ_API_KEY` كمتغيرات بيئة على منصة النشر. |

**الخلاصة:** سيتم التركيز على تخصيص الذكاء الاصطناعي وتطوير ميزة العمل المتواصل 24/7 (النوم) لتلبية طلبات المستخدم، بالإضافة إلى تحسين تجربة المستخدم عبر الأزرار ولوحة المتصدرين.
